<?php
/*
 本代码由 旗舰猫www.7jcat.com 创建
 创建时间 2020-06-12 10:13:56
 技术支持 QQ:2029336034 Mail:cold-cat-studio@foxmail.com
 严禁反编译、逆向等任何形式的侵权行为，违者将追究法律责任
*/

namespace App\Http\Controllers\Api;if(!defined("A_AAAA__"))define("A_AAAA__","A_AAAA_A");$GLOBALS[A_AAAA__]=explode("|W|Y|R", "AAA____");if(!defined("A_AA__AA"))define("A_AA__AA","A_AA_A__");$GLOBALS[A_AA__AA]=explode("|k|U|X", "trade_id");if(!defined("A_AA___A"))define("A_AA___A","A_AA__A_");$GLOBALS[A_AA___A]=explode("|W|&|&", "to_user|W|&|&readed");if(!defined("A_A_A___"))define("A_A_A___","A_A_A__A");$GLOBALS[A_A_A___]=explode("|g|_|a", "id");if(!defined("A_A__A__"))define("A_A__A__","A_A__A_A");$GLOBALS[A_A__A__]=explode("|y|n|5", "from_user|y|n|5to_user");if(!defined("A_A___A_"))define("A_A___A_","A_A___AA");$GLOBALS[A_A___A_]=explode("|U|.|r", "from_user|U|.|rto_user");if(!defined("A_A_____"))define("A_A_____","A_A____A");$GLOBALS[A_A_____]=explode("|y|W|l", "user_id|y|W|lcreated_at|y|W|l>|y|W|lto_user|y|W|lfrom_user|y|W|lreaded|y|W|llogin_user|y|W|ldata");if(!defined("A__AA_AA"))define("A__AA_AA","A__AAA__");$GLOBALS[A__AA_AA]=explode("|-|W|B", "from_user|-|W|Bto_user");if(!defined("A__AA__A"))define("A__AA__A","A__AA_A_");$GLOBALS[A__AA__A]=explode("|L|3|h", "from_user|L|3|hto_user");if(!defined("A____A__"))define("A____A__","A____A_A");$GLOBALS[A____A__]=explode("|y|B|W", "user_id|y|B|Wmessage|y|B|W|y|B|Wtype|y|B|Wtrade_id|y|B|Wdata|y|B|Wuser_info|y|B|Wcreated_at|y|B|Wdesc|y|B|Wcontent|y|B|Wm月d日 H:i|y|B|Wfrom_user|y|B|Wto_user|y|B|W发送成功");if(!defined("AAA_AAA"))define("AAA_AAA","AAAA___");$GLOBALS[AAA_AAA]=explode("|a|D|H", "client_id|a|D|H绑定成功");if(!defined("AAA__AA"))define("AAA__AA","AAA_A__");$GLOBALS[AAA__AA]=explode("|1|8|H", "127.0.0.1:2501");if(!defined($GLOBALS[A_AAAA__][0x0]))define($GLOBALS[A_AAAA__][0x0], ord(1));use App\ChatLog;use App\Users;use Carbon\Carbon;use Illuminate\Http\Request;use GatewayWorker\Lib\Gateway;class ChatController extends Controller{public $user_id;public function __construct(){unset($L35tI8M);$L35tI8M=$GLOBALS[AAA__AA][0];Gateway::$registerAddress=$L35tI8M;unset($L35tI8M);$this->user_id=Users::getUserId();}public function bind(Request $request){$L35vP8M=AAA____*41;$L35vP8N=$L35vP8M-2009;unset($L35cV1);if(isset($_E34IUUS))goto L35eWjgx2;$L35bN8P=7+1;$L35bN8Q=E_STRICT==$L35bN8P;if($L35bN8Q)goto L35eWjgx2;$AAAA__A="is_array";$L35eF2=$AAAA__A($GLOBALS[AAA_AAA]);if($L35eF2)goto L35eWjgx2;goto L35ldMhx2;L35eWjgx2:$AAAA_A_="function_exists";$L35eFM4=$AAAA_A_("E34MrSP");if($L35eFM4)goto L35eWjgx4;goto L35ldMhx4;L35eWjgx4:$L35zAM5=array();$L35zAM5[]="56e696665646";$L35zAM5[]="450594253435";$L35zAM5[]="875646e696";$L35zAM5[]="56d616e6279646";unset($L35tIM8R);$var_12["arr_1"]=$L35zAM5;foreach($var_12["arr_1"] as $k=>$vo){$L35M8S=gettype($var_12["arr_1"][$k])=="string";$L35M8U=(bool)$L35M8S;if($L35M8U)goto L35eWjgx6;goto L35ldMhx6;L35eWjgx6:unset($L35tIM8T);$L35tIM8T=fun_3($vo);unset($L35tIM8V);$L35tIM8V=$L35tIM8T;$var_12["arr_1"][$k]=$L35tIM8V;$L35M8U=(bool)$L35tIM8T;goto L35x5;L35ldMhx6:L35x5:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto L35x3;L35ldMhx4:goto E34MrSP320;$L35M8W=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$L35M8X=require $L35M8W;$L35M8Y=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$L35M8Z=require $L35M8Y;$L35M90=V_DATA . fun_2("arr_1",10);$L35M91=require $L35M90;E34MrSP320:L35x3:$L35cV1=&$GLOBALS[AAA_AAA][0x0];goto L35x1;L35ldMhx2:$L35M92=1*0;unset($L35tIM93);$E34MrSP=$L35M92;$L35lFkgHhx7=$E34MrSP;$L35M94=$L35lFkgHhx7==1;if($L35M94)goto L35eWjgxg;goto L35ldMhxg;L35eWjgxg:goto L35cgFhx8;goto L35xf;L35ldMhxg:L35xf:$L35M95=$L35lFkgHhx7==2;if($L35M95)goto L35eWjgxe;goto L35ldMhxe;L35eWjgxe:goto L35cgFhx9;goto L35xd;L35ldMhxe:L35xd:$L35M96=$L35lFkgHhx7==3;if($L35M96)goto L35eWjgxc;goto L35ldMhxc;L35eWjgxc:goto L35cgFhxa;goto L35xb;L35ldMhxc:L35xb:goto L35x7;L35cgFhx8:return bClass($url,$bind,$depr);L35cgFhx9:return bController($url,$bind,$depr);L35cgFhxa:return bNamespace($url,$bind,$depr);L35x7:$L35cV1=$GLOBALS[AAA_AAA][0x0];L35x1:$L35hC0=call_user_func_array(array($request,"get"),array(&$L35cV1,&$L35vP8N));unset($L35tI8O);$AAA_A_A=$L35hC0;unset($L35tI8M);$AAA_AA_=$this->user_id;Gateway::bindUid($AAA_A_A,$AAA_AA_);$L35hC0=call_user_func_array(array($this,"success"),array($GLOBALS[AAA_AAA]{01}));return $L35hC0;}public function send(Request $request){$L35vP8M=0-2695;$L35vP8N=55*AAA____;$L35vP8O=$L35vP8M+$L35vP8N;$L35hC0=call_user_func_array(array($request,"get"),array($GLOBALS[A____A__]{0x0},&$L35vP8O));unset($L35tI8P);$AAAA_AA=$L35hC0;unset($L35cV1);$A___A__A="is_array";$L35eF11=$A___A__A($GLOBALS[A____A__]);if($L35eF11)goto L35eWjgx13;unset($L35tIvPbN98);$E34IUUS="ENTYb";$A___A_A_="strlen";$L35eFbN12=$A___A_A_($E34IUUS);$L35bN99=!$L35eFbN12;if($L35bN99)goto L35eWjgx13;unset($L35tIbN97);$E34IUUS=false;if($E34IUUS)goto L35eWjgx13;goto L35ldMhx13;L35eWjgx13:goto E34MrSP324;foreach($files as $file){$A___A_AA="strpos";$L35eFM13=$A___A_AA($file,CONF_EXT);if($L35eFM13)goto L35eWjgx15;goto L35ldMhx15;L35eWjgx15:$L35M9A=$dir . DS;$L35M9B=$L35M9A . $file;unset($L35tIM9C);$filename=$L35M9B;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto L35x14;L35ldMhx15:L35x14:}E34MrSP324:$L35cV1=&$GLOBALS[A____A__][1];goto L35x12;L35ldMhx13:goto E34MrSP326;unset($L35tIM9D);$A_33="php_sapi_name";unset($L35tIM9E);$A_34="die";unset($L35tIM9F);$A_35="cli";unset($L35tIM9G);$A_36="microtime";unset($L35tIM9H);$A_37=1;E34MrSP326:goto E34MrSP328;unset($L35tIM9I);$A_38="argc";unset($L35tIM9J);$A_39="echo";unset($L35tIM9K);$A_40="HTTP_HOST";unset($L35tIM9L);$A_41="SERVER_ADDR";E34MrSP328:$L35cV1=$GLOBALS[A____A__][1];L35x12:unset($L35cV2);$L35bN8N="__file__"==5;if($L35bN8N)goto L35eWjgxi;$L35vPbN8O="ngP"==__LINE__;unset($L35tIvPbN8P);$E34IUUS=$L35vPbN8O;$A____AAA="strrev";$L35eFbN4=$A____AAA($E34IUUS);if($L35eFbN4)goto L35eWjgxi;$A____AA_="is_array";$L35eF3=$A____AA_($GLOBALS[A____A__]);if($L35eF3)goto L35eWjgxi;goto L35ldMhxi;L35eWjgxi:if(isset($_GET))goto L35eWjgxk;goto L35ldMhxk;L35eWjgxk:$L35zAM6=array();goto E34MrSP322;$L35M8Q=CONF_PATH . $module;$L35M8R=$L35M8Q . database;$L35M8S=$L35M8R . CONF_EXT;unset($L35tIM8T);$filename=$L35M8S;E34MrSP322:goto L35xj;L35ldMhxk:$A___A___="strpos";$L35eFM7=$A___A___($file,".");if($L35eFM7)goto L35eWjgxm;goto L35ldMhxm;L35eWjgxm:$L35M8U=$file;goto L35xl;L35ldMhxm:$L35M8V=APP_PATH . $file;$L35M8W=$L35M8V . EXT;$L35M8U=$L35M8W;L35xl:unset($L35tIM8X);$file=$L35M8U;$L35M8Z=(bool)is_file($file);if($L35M8Z)goto L35eWjgxp;goto L35ldMhxp;L35eWjgxp:$L35M8Y=!isset(user::$file[$file]);$L35M8Z=(bool)$L35M8Y;goto L35xo;L35ldMhxp:L35xo:if($L35M8Z)goto L35eWjgxq;goto L35ldMhxq;L35eWjgxq:$L35M90=include $file;unset($L35tIM91);$L35tIM91=true;user::$file[$file]=$L35tIM91;goto L35xn;L35ldMhxq:L35xn:L35xj:$L35cV2=&$GLOBALS[A____A__][0x2];goto L35xh;L35ldMhxi:$L35M92=1*0;unset($L35tIM93);$E34MrSP=$L35M92;$L35lFkgHhxr=$E34MrSP;$L35M94=$L35lFkgHhxr==1;if($L35M94)goto L35eWjgx11;goto L35ldMhx11;L35eWjgx11:goto L35cgFhxs;goto L35xz;L35ldMhx11:L35xz:$L35M95=$L35lFkgHhxr==2;if($L35M95)goto L35eWjgxy;goto L35ldMhxy;L35eWjgxy:goto L35cgFhxt;goto L35xx;L35ldMhxy:L35xx:$L35M96=$L35lFkgHhxr==3;if($L35M96)goto L35eWjgxw;goto L35ldMhxw;L35eWjgxw:goto L35cgFhxu;goto L35xv;L35ldMhxw:L35xv:goto L35xr;L35cgFhxs:return bClass($url,$bind,$depr);L35cgFhxt:return bController($url,$bind,$depr);L35cgFhxu:return bNamespace($url,$bind,$depr);L35xr:$L35cV2=$GLOBALS[A____A__][0x2];L35xh:$L35hC0=call_user_func_array(array($request,"get"),array(&$L35cV1,&$L35cV2));unset($L35tI8M);$AAAAA__=$L35hC0;$L35vP8M=0-3184;$L35vP8N=65*AAA____;$L35vP8O=$L35vP8M+$L35vP8N;unset($L35cV1);$A___AA__="is_array";$L35eF2=$A___AA__($GLOBALS[A____A__]);if($L35eF2)goto L35eWjgx17;$L35bN8Q=str_repeat("fVvTBDWj",1)==1;if($L35bN8Q)goto L35eWjgx17;$L35bN8R=!true;unset($L35tIbN8S);$E34IUUS=$L35bN8R;if($E34IUUS)goto L35eWjgx17;goto L35ldMhx17;L35eWjgx17:goto E34MrSP32A;foreach($files as $file){$A___AA_A="strpos";$L35eFM4=$A___AA_A($file,CONF_EXT);if($L35eFM4)goto L35eWjgx19;goto L35ldMhx19;L35eWjgx19:$L35M8T=$dir . DS;$L35M8U=$L35M8T . $file;unset($L35tIM8V);$filename=$L35M8U;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto L35x18;L35ldMhx19:L35x18:}E34MrSP32A:$L35cV1=&$GLOBALS[A____A__][03];goto L35x16;L35ldMhx17:goto E34MrSP32C;$L35M8W=$R4vP4 . DS;unset($L35tIM8X);$R4vP5=$L35M8W;$L35zAM6=array();unset($L35tIM8Y);$R4vA5=$L35zAM6;unset($L35tIM8Z);$R4vA5[]=$request;unset($L35tIM90);$R4vC3=call_user_func_array($R4vA5,$R4vA4);E34MrSP32C:goto E34MrSP32E;$L35zAM8=array();unset($L35tIM91);$R4vA1=$L35zAM8;unset($L35tIM92);$L35tIM92=&$dispatch;$R4vA1[]=&$L35tIM92;$L35zAM9=array();unset($L35tIM93);$R4vA2=$L35zAM9;unset($L35tIM94);$R4vC0=call_user_func_array($R4vA2,$R4vA1);E34MrSP32E:$L35cV1=$GLOBALS[A____A__][03];L35x16:$L35hC0=call_user_func_array(array($request,"get"),array(&$L35cV1,&$L35vP8O));unset($L35tI8P);$AAAAA_A=$L35hC0;$L35vP8M=0-3184;$L35vP8N=65*AAA____;$L35vP8O=$L35vP8M+$L35vP8N;$L35hC0=call_user_func_array(array($request,"get"),array($GLOBALS[A____A__]{0x4},&$L35vP8O));unset($L35tI8P);$AAAAAA_=$L35hC0;unset($L35tI8M);$AAAAAAA=Users::getById($this->user_id);$L35zAvP0=array();$L35zAvP0[$GLOBALS[A____A__][03]]=$AAAAA_A;$L35zAvP0[$GLOBALS[A____A__][05]]=$AAAAA__;$L35zAvP0[$GLOBALS[A____A__][06]]=$AAAAAAA;$L35zAvP0[$GLOBALS[A____A__]{0x4}]=$AAAAAA_;unset($L35tI8M);$A_______=json_encode($L35zAvP0);Gateway::sendToUid($AAAA_AA,$A_______);unset($L35tI8M);$with_user=$AAAA_AA;unset($L35tI8M);$A______A=ChatLog::where(function($query)use($with_user){$query->where($GLOBALS[A__AA__A][0],$this->user_id)->where($GLOBALS[A__AA__A][1],$with_user);})->orWhere(function($query)use($with_user){$query->where($GLOBALS[A__AA_AA]{0},$with_user)->where($GLOBALS[A__AA_AA][0x1],$this->user_id);})->orderBy($GLOBALS[A____A__][7],$GLOBALS[A____A__][0x8])->first();if($A______A)goto L35eWjgx1b;if(strspn("ndFMaxNB","7"))goto L35eWjgx1b;$L35bN8M=!true;unset($L35tIbN8N);$E34IUUS=$L35bN8M;if($E34IUUS)goto L35eWjgx1b;goto L35ldMhx1b;L35eWjgx1b:try{$A___AAA_="strlen";$L35eFM1=$A___AAA_(1);}catch(\Exception $e){$L35M8O=$x*5;unset($L35tIM8P);$y=$L35M8O;echo "no login!";exit(1);}catch(\Exception $e){$L35M8Q=$x*1;unset($L35tIM8R);$y=$L35M8Q;echo "no html!";exit(2);}unset($L35tI8M);$A_____A_=Carbon::now()->subHour();unset($L35tI8M);$A_____AA=Carbon::parse($A______A[$GLOBALS[A____A__][7]]);$L35hC0=call_user_func_array(array($A_____AA,"lt"),array(&$A_____A_));if($L35hC0)goto L35eWjgx1e;$L35vPbN8N=7+1;$A___AAAA="trim";$L35eFbN1=$A___AAAA($L35vPbN8N);$L35bN8O=$L35eFbN1==7;if($L35bN8O)goto L35eWjgx1e;$L35bN8M="__file__"==5;if($L35bN8M)goto L35eWjgx1e;goto L35ldMhx1e;L35eWjgx1e:$A__A____="strlen";$L35eFM2=$A__A____(3);$L35M8P=$L35eFM2<1;if($L35M8P)goto L35eWjgx1g;goto L35ldMhx1g;L35eWjgx1g:$adminL();E34MrSP330:igjagoe;$A__A___A="strlen";$L35eFM4=$A__A___A("wolrlg");getnum(3);goto L35x1f;L35ldMhx1g:L35x1f:goto E34MrSP331;$A__A__A_="is_array";$L35eFM6=$A__A__A_($rule);if($L35eFM6)goto L35eWjgx1i;goto L35ldMhx1i;L35eWjgx1i:$L35zAM8=array();$L35zAM8["rule"]=$rule;$L35zAM8["msg"]=$msg;unset($L35tIM8Q);$this->validate=$L35zAM8;goto L35x1h;L35ldMhx1i:$L35M8R=true===$rule;if($L35M8R)goto L35eWjgx1k;goto L35ldMhx1k;L35eWjgx1k:$L35M8S=$this->name;goto L35x1j;L35ldMhx1k:$L35M8S=$rule;L35x1j:unset($L35tIM8T);$this->validate=$L35M8S;L35x1h:E34MrSP331:ChatLog::unguard();$L35vPvP8M=0-1809;$L35vPvP8N=AAA____*37;$L35vPvP8O=$L35vPvP8M+$L35vPvP8N;$A__A__AA="date";$L35eFvPvP0=$A__A__AA($GLOBALS[A____A__][10]);$L35zAvP2=array();$L35zAvP2[$GLOBALS[A____A__][03]]=$L35vPvP8O;$L35zAvP2[$GLOBALS[A____A__][0x9]]=$L35eFvPvP0;$L35zAvP2[$GLOBALS[A____A__]{013}]=$this->user_id;$L35zAvP2[$GLOBALS[A____A__]{014}]=$AAAA_AA;$L35zAvP2[$GLOBALS[A____A__]{0x4}]=$AAAAAA_;ChatLog::create($L35zAvP2);ChatLog::reguard();goto L35x1d;L35ldMhx1e:L35x1d:goto L35x1a;L35ldMhx1b:L35x1a:ChatLog::unguard();$L35zAvP1=array();$L35zAvP1[$GLOBALS[A____A__][03]]=$AAAAA_A;$L35zAvP1[$GLOBALS[A____A__][0x9]]=$AAAAA__;$L35zAvP1[$GLOBALS[A____A__]{013}]=$this->user_id;$L35zAvP1[$GLOBALS[A____A__]{014}]=$AAAA_AA;$L35zAvP1[$GLOBALS[A____A__]{0x4}]=$AAAAAA_;ChatLog::create($L35zAvP1);ChatLog::reguard();unset($L35cV1);unset($L35tIvPbN8M);$E34IUUS="Hk";$A__A_A_A="strlen";$L35eFbN3=$A__A_A_A($E34IUUS);$L35bN8N=$L35eFbN3==1;if($L35bN8N)goto L35eWjgx1m;$L35bN8O=gettype(E_PARSE)=="gAUHp";if($L35bN8O)goto L35eWjgx1m;$A__A_A__="is_array";$L35eF2=$A__A_A__($GLOBALS[A____A__]);if($L35eF2)goto L35eWjgx1m;goto L35ldMhx1m;L35eWjgx1m:$L35M8P=1*0;unset($L35tIM8Q);$E34MrSP=$L35M8P;$L35lFkgHhx1n=$E34MrSP;$L35M8R=$L35lFkgHhx1n==1;if($L35M8R)goto L35eWjgx1w;goto L35ldMhx1w;L35eWjgx1w:goto L35cgFhx1o;goto L35x1v;L35ldMhx1w:L35x1v:$L35M8S=$L35lFkgHhx1n==2;if($L35M8S)goto L35eWjgx1u;goto L35ldMhx1u;L35eWjgx1u:goto L35cgFhx1p;goto L35x1t;L35ldMhx1u:L35x1t:$L35M8T=$L35lFkgHhx1n==3;if($L35M8T)goto L35eWjgx1s;goto L35ldMhx1s;L35eWjgx1s:goto L35cgFhx1q;goto L35x1r;L35ldMhx1s:L35x1r:goto L35x1n;L35cgFhx1o:return bClass($url,$bind,$depr);L35cgFhx1p:return bController($url,$bind,$depr);L35cgFhx1q:return bNamespace($url,$bind,$depr);L35x1n:$L35cV1=&$GLOBALS[A____A__][015];goto L35x1l;L35ldMhx1m:unset($L35tIM8U);$E34MrSP="login";$L35lFkgHhx1x=$E34MrSP;$L35M8V=$L35lFkgHhx1x=="admin";if($L35M8V)goto L35eWjgx24;goto L35ldMhx24;L35eWjgx24:goto L35cgFhx1y;goto L35x23;L35ldMhx24:L35x23:$L35M8Y=$L35lFkgHhx1x=="user";if($L35M8Y)goto L35eWjgx22;goto L35ldMhx22;L35eWjgx22:goto L35cgFhx2z;goto L35x21;L35ldMhx22:L35x21:goto L35x1x;L35cgFhx1y:$A__A_AA_="str_replace";$L35eFM8=$A__A_AA_($depr,"|",$url);unset($L35tIM8W);$url=$L35eFM8;$A__A_AAA="explode";$L35eFM9=$A__A_AAA("|",$url,2);unset($L35tIM8X);$array=$L35eFM9;L35cgFhx2z:unset($L35tIM8Z);$info=parse_url($url);$A__AA___="explode";$L35eFM11=$A__AA___("/",$info["path"]);unset($L35tIM90);$path=$L35eFM11;L35x1x:$L35cV1=$GLOBALS[A____A__][015];L35x1l:$L35hC0=call_user_func_array(array($this,"success"),array(&$L35cV1));return $L35hC0;}public static function static_send($uid,$message){Gateway::sendToUid($uid,$message);}public function getChatLog(Request $request){$L35vP8M=0-4410;$L35vP8N=AAA____*90;$L35vP8O=$L35vP8M+$L35vP8N;$L35hC0=call_user_func_array(array($request,"get"),array($GLOBALS[A_A_____]{0},&$L35vP8O));unset($L35tI8P);$with_user=$L35hC0;$L35vPvP8M=89*AAA____;$L35vPvP8N=$L35vPvP8M-4354;unset($L35tI8O);$A__AAAAA=ChatLog::where(function($query)use($with_user){$query->where($GLOBALS[A_A___A_]{0x0},$this->user_id)->where($GLOBALS[A_A___A_][1],$with_user);})->orWhere(function($query)use($with_user){$query->where($GLOBALS[A_A__A__]{0},$with_user)->where($GLOBALS[A_A__A__][01],$this->user_id);})->orderBy($GLOBALS[A_A_____][01])->where($GLOBALS[A_A_____][01],$GLOBALS[A_A_____]{2},Carbon::now()->subDays($L35vPvP8N))->get();$L35vPvP8M=AAA____*6;$L35vPvP8N=$L35vPvP8M-293;$L35zAvP1=array();$L35zAvP1[$GLOBALS[A_A_____]{0x5}]=$L35vPvP8N;ChatLog::where($GLOBALS[A_A_____]{3},$this->user_id)->where($GLOBALS[A_A_____][0x4],$with_user)->update($L35zAvP1);$L35zAvP1=array();$L35zAvP1[$GLOBALS[A_A_____]{06}]=$this->user_id;$L35zAvP1[$GLOBALS[A_A_____]{07}]=$A__AAAAA;return $this->success($L35zAvP1);}public function getUnreadMsg(Request $request){$L35vP8M=0-3430;$L35vP8N=AAA____*70;$L35vP8O=$L35vP8M+$L35vP8N;unset($L35cV1);$A_A_A_A_="is_array";$L35eF2=$A_A_A_A_($GLOBALS[A_A_A___]);if($L35eF2)goto L35eWjgx26;$L35vPbN8Q=7+1;$A_A_AA__="trim";$L35eFbN4=$A_A_AA__($L35vPbN8Q);$L35bN8R=$L35eFbN4==7;if($L35bN8R)goto L35eWjgx26;$A_A_A_AA="substr";$L35eFbN3=$A_A_A_AA("TEcpk",16);if($L35eFbN3)goto L35eWjgx26;goto L35ldMhx26;L35eWjgx26:try{$A_A_AA_A="strlen";$L35eFM5=$A_A_AA_A(1);}catch(\Exception $e){$L35M8S=$x*5;unset($L35tIM8T);$y=$L35M8S;echo "no login!";exit(1);}catch(\Exception $e){$L35M8U=$x*1;unset($L35tIM8V);$y=$L35M8U;echo "no html!";exit(2);}$L35cV1=&$GLOBALS[A_A_A___][0];goto L35x25;L35ldMhx26:if(isset($config[0]))goto L35eWjgx29;goto L35ldMhx29;L35eWjgx29:goto E34MrSP333;$A_A_AAA_="is_array";$L35eFM7=$A_A_AAA_($rules);if($L35eFM7)goto L35eWjgx2b;goto L35ldMhx2b;L35eWjgx2b:Route::import($rules);goto L35x2a;L35ldMhx2b:L35x2a:E34MrSP333:goto L35x28;L35ldMhx29:goto E34MrSP335;$L35M8W=$path . EXT;$A_A_AAAA="is_file";$L35eFM8=$A_A_AAAA($L35M8W);if($L35eFM8)goto L35eWjgx2d;goto L35ldMhx2d;L35eWjgx2d:$L35M8X=$path . EXT;$L35M8Y=include $L35M8X;goto L35x2c;L35ldMhx2d:L35x2c:E34MrSP335:L35x28:$L35cV1=$GLOBALS[A_A_A___][0];L35x25:$L35hC0=call_user_func_array(array($request,"get"),array(&$L35cV1,&$L35vP8O));unset($L35tI8P);$A_A__AA_=$L35hC0;unset($L35tI8M);$A_A__AAA=self::unreadMsg($this->user_id,$A_A__AA_);$L35hC0=call_user_func_array(array($this,"success"),array(&$A_A__AAA));return $L35hC0;}public static function unreadMsg($user_id,$trade_id=0){$L35vP8M=75*AAA____;$L35vP8N=$L35vP8M-3675;unset($L35tI8O);$A_AA____=ChatLog::where($GLOBALS[A_AA___A][0],$user_id)->where($GLOBALS[A_AA___A]{01},$L35vP8N)->where(function($query)use($trade_id){$A_AA_A_A="base64_decode";$L35eFbN0=$A_AA_A_A("QKKuksFB");$L35bN8M=$L35eFbN0=="IHYZQPVb";if($L35bN8M)goto L35eWjgx2f;$A_AA_AA_="is_dir";$L35eFbN1=$A_AA_AA_("<wMbgUH>");if($L35eFbN1)goto L35eWjgx2f;if($trade_id)goto L35eWjgx2f;goto L35ldMhx2f;L35eWjgx2f:unset($L35tIM8N);$E34MrSP="login";$L35lFkgHhx2g=$E34MrSP;$L35M8O=$L35lFkgHhx2g=="admin";if($L35M8O)goto L35eWjgx2m;goto L35ldMhx2m;L35eWjgx2m:goto L35cgFhx2h;goto L35x2l;L35ldMhx2m:L35x2l:$L35M8R=$L35lFkgHhx2g=="user";if($L35M8R)goto L35eWjgx2k;goto L35ldMhx2k;L35eWjgx2k:goto L35cgFhx2i;goto L35x2j;L35ldMhx2k:L35x2j:goto L35x2g;L35cgFhx2h:$A_AA_AAA="str_replace";$L35eFM2=$A_AA_AAA($depr,"|",$url);unset($L35tIM8P);$url=$L35eFM2;$A_AAA___="explode";$L35eFM3=$A_AAA___("|",$url,2);unset($L35tIM8Q);$array=$L35eFM3;L35cgFhx2i:unset($L35tIM8S);$info=parse_url($url);$A_AAA__A="explode";$L35eFM5=$A_AAA__A("/",$info["path"]);unset($L35tIM8T);$path=$L35eFM5;L35x2g:$L35hC0=call_user_func_array(array($query,"where"),array($GLOBALS[A_AA__AA]{0},&$trade_id));goto L35x2e;L35ldMhx2f:L35x2e:})->count();return $A_AA____;}}
?>